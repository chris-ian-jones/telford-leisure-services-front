@if (errors().length > 0) {
  <app-error-summary
    [errors]="errors()"
    [tabIndex]="1"
    (focusField)="focusElement($event)"
  />
}
<h2 class="page-question-number">
  Question {{ currentPage() }} of {{ totalPages() }}
</h2>
<h1 class="page-question">What is your residential address?</h1>
<form
  class="question-form-container"
  [formGroup]="form()"
  (ngSubmit)="onClickContinue()"
>
  <div
    class="input-container"
    [class.input-container-error]="
      (form().get('addressLineOne').errors ||
        form().get('addressLineOne').hasError('required')) &&
      hasErrors()
    "
  >
    <label for="addressLineOne" class="default-input-label">
      Address line 1
    </label>
    @if (
      form().get('addressLineOne').errors &&
      form().get('addressLineOne').hasError('required') &&
      hasErrors()
    ) {
      <label for="addressLineOne" class="input-label-error-message">
        Enter your address line 1
      </label>
    }
    <div>
      <input
        id="addressLineOne"
        formControlName="addressLineOne"
        type="text"
        class="default-text-input"
        [class.text-input-error]="
          form().get('addressLineOne').errors && hasErrors()
        "
      />
    </div>
  </div>
  <div class="input-container">
    <label for="addressLineTwo" class="default-input-label">
      Address line 2 (Optional)
    </label>
    <div>
      <input
        id="addressLineTwo"
        formControlName="addressLineTwo"
        type="text"
        class="default-text-input"
      />
    </div>
  </div>
  <div class="input-container">
    <label for="townOrCity" class="default-input-label">
      Town/City (Optional)
    </label>
    <div>
      <input
        id="townOrCity"
        formControlName="townOrCity"
        type="text"
        class="default-text-input three-quarters-text-input"
      />
    </div>
  </div>
  <div class="input-container">
    <label for="county" class="default-input-label"> County (Optional) </label>
    <div>
      <input
        id="county"
        formControlName="county"
        type="text"
        class="default-text-input three-quarters-text-input"
      />
    </div>
  </div>
  <div
    class="input-container"
    [class.input-container-error]="
      (form().get('postcode').errors ||
        form().get('postcode').hasError('required')) &&
      hasErrors()
    "
  >
    <label for="postcode" class="default-input-label"> Postcode </label>
    @if (
      form().get('postcode').errors &&
      form().get('postcode').hasError('required') &&
      hasErrors()
    ) {
      <label for="postcode" class="input-label-error-message">
        Enter your postcode
      </label>
    }
    @if (
      form().get('postcode').errors &&
      form().get('postcode').hasError('pattern') &&
      hasErrors()
    ) {
      <label for="postcode" class="input-label-error-message">
        Enter a real postcode
      </label>
    }
    <div>
      <input
        id="postcode"
        formControlName="postcode"
        type="text"
        class="default-text-input one-half-text-input"
        [class.text-input-error]="form().get('postcode').errors && hasErrors()"
      />
    </div>
  </div>
  <div>
    <button class="default-btn" type="submit">Continue</button>
  </div>
</form>
